# Session 7A Version Control using Git and Working with GitHub
## Exercise 2 – Git Branches and Merging
For this exercise, one person should share their screen and walk everyone through the exercise,
so that everyone in the group follows along on their own machine. Make sure everyone is ok
with all steps and take things as slowly as you need. Refer back to the lecture slides to help you.
1. Have a look at the full git log for main.
```bash
git log --oneline
```
2. Using the repository you set up earlier, create a new branch called dev, and ensuring you have switched to the new branch
```bash
git checkout -b dev
```

3. Use a git restore to restore code from an earlier commit (make a commit first!)

```bash
git add 7a_2.md
```

```bash
git add 7a_2.md
git commit -m "Added a new script"

```bash
git restore --source 2644cf41cc6f453c59333a6d9442782adb5db6ae --staged --worktree .
```
4. Make some changes to this code. Then save it, and stage and commit the changes.
```bash
git add my_script.py
git commit -m "Added a new script"
```
5. Have a look at the full git log for dev.
```bash
git log --oneline
```
6. Merge the changes you made on dev into your main branch. Make sure you are in the correct branch first before doing this.
```bash
git checkout main
git merge dev
```
7. Have another look at the log to view the commit history again
```bash
git log --oneline
```
8. Merge main back into dev. Again, make sure you are in the correct branch before doing this. Confirm that both dev and main have the same HEAD.
```bash
git checkout dev
git merge main
```

```bash
git fetch
git rev-parse dev
git rev-parse main
```

or:

```bash
git log dev -1
git log main -1
```

9. Make a change to some of the lines of code of one of your code files. Then save, stage and commit the changes.
```bash
git add my_script.py
git commit -m "changed again"
```
this is a conflicting change

This is the conflict in dev!
10. Switch back to main and make some different changes to the same lines of code in the same file. Save, stage and commit the changes.
```bash
git checkout main
git add my_script.py
git commit -m "should cause conflict"
```

11. Try merging dev into main. You should be informed that there is a conflict.

```bash
git merge dev
```
12. Make a decision on how to resolve the conflict. Save, stage and commit the changes.
```bash
git add my_script.py
git commit -m "resolved conflict"
```
13. Look at the log to confirm the new commit.
```bash
git log --oneline
```
14. In the folder of your repository, create a new .csv file called input_data.csv, as well as a folder called raw_data, which itself contains another new .csv file called raw.csv.
```bash
touch input_data.csv
mkdir raw_data
touch raw_data/raw.csv
```
 
15. Check the status of your repository and confirm that the new files are acknowledged but not being tracked.
```bash
git status
```
16. Create, stage and commit a .gitignore file that tells Git to ignore the input_data.csv file in your repository, as well as anything in the folder raw_data.
```bash
code .gitignore
```
In .gitignore, add the following lines:
```
input_data.csv
raw_data/
```
17. Check the status of your repository again and confirm that the new files are no longer being acknowledged (a “clean working tree”)
```bash
git status
```

18. Create, stage and commit a fictitious readme.md file for your repository

19. Add a new function to the code in of your code files in your dev branch – save, stage and commit the changes. Then create a new (third) branch from dev. You should observe the code and commit histories are taken from dev and not from main.
20. Play around with making changes in your third branch, merging back from your third branch into dev, and then in turn into main.
